graph TD
    %% System Entry Points
    A["ğŸš€ User Request<br/>'Analyze #startup trends'"] --> B["ğŸ¼ LangChain Orchestrator<br/>StateGraph Workflow"]
    
    %% LangChain Orchestration Layer
    B --> C["ğŸ”„ Workflow Coordination<br/>State Management"]
    
    %% Workflow Steps (LangChain Managed)
    C --> D1["âš™ï¸ initialize<br/>Setup"]
    D1 --> D2["ğŸ” discover_trends<br/>Data Discovery"]
    D2 --> D3["ğŸ“ˆ enrich_data<br/>Data Enhancement"]
    D3 --> D4["ğŸ“Š compute_metrics<br/>Analytics"]
    D4 --> D5["ğŸ§  semantic_analysis<br/>Content Analysis"]
    D5 --> D6["ğŸ”® generate_predictions<br/>Viral Prediction"]
    D6 --> D7["âœ… evaluate_results<br/>Validation"]
    D7 --> D8["ğŸ§¹ cleanup<br/>Finalization"]
    
    %% Agent Registry (LangChain Agents)
    B --> E["ğŸ¤– AgentRegistry<br/>Agent Manager"]
    E --> F1["ğŸ“¥ IngestionAgent<br/>@tool decorators"]
    E --> F2["ğŸ“Š AnalyzerAgent<br/>LangChain Framework"]
    
    %% Data Processing Split
    D2 --> G{"ğŸ›¤ï¸ Processing Path"}
    G -->|"ğŸ“± Data"| H["ğŸš€ Direct Apify SDK<br/>Real TikTok Data"]
    G -->|"ğŸ§  AI"| I["ğŸ¤– Claude Opus 4<br/>ONLY AI Model"]
    
    %% Apify Data Flow
    H --> J["ğŸ“Š Raw TikTok Data<br/>Videos, Profiles, Metrics"]
    
    %% Claude-Only AI System
    I --> K["ğŸ¤– Claude Opus 4<br/>claude-opus-4-20250514"]
    K --> L["ğŸ§  AI Analysis<br/>- Viral predictions<br/>- Content insights<br/>- Trend analysis"]
    
    %% LangChain Components Used
    F1 --> M1["ğŸ› ï¸ @tool monitor_startup_trends"]
    F1 --> M2["ğŸ¬ @tool analyze_startup_video"]
    F2 --> M3["âš¡ AgentExecutor"]
    F2 --> M4["ğŸ’¾ ConversationMemory"]
    
    %% Data Convergence
    J --> N["ğŸ—ƒï¸ WorkflowState<br/>Shared State Management"]
    L --> N
    N --> D3
    
    %% Final Output
    D8 --> O["ğŸ“º Terminal Output<br/>Analysis Results"]
    D8 --> P["ğŸš« No Files Created<br/>Memory-Only Processing"]
    
    %% Styling
    classDef langchain fill:#e1f5fe,stroke:#01579b,stroke-width:2px,color:#000
    classDef apify fill:#fff3e0,stroke:#e65100,stroke-width:2px,color:#000
    classDef claude fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px,color:#000
    classDef workflow fill:#e8f5e8,stroke:#1b5e20,stroke-width:2px,color:#000
    
    %% Apply Classes
    class B,C,E,F1,F2,M1,M2,M3,M4,N langchain
    class H,J apify
    class I,K,L claude
    class D1,D2,D3,D4,D5,D6,D7,D8,O,P workflow
    
    %% Legend
    subgraph Legend["ğŸ” Simplified Architecture"]
        LE1["ğŸ”µ LangChain Orchestration"]:::langchain
        LE2["ğŸŸ  Apify Data Source"]:::apify  
        LE3["ğŸŸ£ Claude Opus 4 ONLY"]:::claude
        LE4["ğŸŸ¢ Workflow & Output"]:::workflow
    end 